<div class="post-container">
  <div class="top">
    <!-- POST IMAGE OR VIDEO -->
    <div class="post-media">
      <div *ngIf="hasPic">
        <img class="post-image" [src]="post.postPicUrl" />
      </div>
      <div *ngIf="hasLink">
        <!-- <img class="post-video" [src]="post.postYouUrl" /> -->
      </div>
    </div>
  </div>

  <div class="bottom">
    <!-- USER INFO -->
    <div class="user-info">
      <app-profile-pic-sm [imgSrc]="post.user.proPicUrl"></app-profile-pic-sm>
      <div class="user">
        <h4 class="name">{{ post.user.firstName }}</h4>
        <a class="username" [routerLink]="['/profile-feed', post.user.userId]"
          >@{{ post.user.username }}</a
        >
        <!-- <h4 class="date">Sep 10</h4> -->
      </div>
    </div>
    <div class="post-text">{{ post.postText }}</div>

    <!-- COMMENT & LIKE -->
    <div class="comment-like">
      <a (click)="toggleComments()"
        >{{ toggleCommentsText }} {{ commentCount }} comments</a
      >
      <div class="comment-like-icons">
        <i
          class="fa fa-comment-o fa-2x comment"
          aria-hidden="true"
          (click)="displayModal()"
        ></i>
        <i
          class="fa fa-heart fa-2x like"
          aria-hidden="true"
          (click)="like(post.postId)"
          [class.btnColor]="isLiked"
        ></i>
      </div>
    </div>
  </div>

  <!-- COMMENT COMPONENT -->
  <app-comment-thread
    [postId]="post.postId"
    [style.display]="showComments ? 'block' : 'none'"
    (commentCount)="receiveCommentCount($event)"
  ></app-comment-thread>
</div>

<!-- The Modal -->
<div
  id="myModal"
  class="modal"
  *ngIf="display"
  [style.display]="display ? 'block' : 'none'"
>
  <!-- Modal content -->
  <div class="modal-content">
    <span class="close" (click)="exit()">&times;</span>
    <app-new-comment-form [post]="post.postId"></app-new-comment-form>
  </div>
</div>
